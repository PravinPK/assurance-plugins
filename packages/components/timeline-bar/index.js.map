{"mappings":"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","sources":["packages/components/timeline-bar/src/index.tsx","packages/components/timeline-bar/src/components/PluginView.tsx","packages/components/timeline-bar/src/components/TimelineToolbar.tsx","packages/components/timeline-bar/src/components/FilterBar/index.tsx","packages/components/timeline-bar/src/components/FilterBar/ClientPicker.tsx","packages/components/timeline-bar/src/components/FilterBar/SelectedEventPicker.tsx","packages/components/timeline-bar/src/components/FilterBar/FilterButtons.tsx","packages/components/timeline-bar/src/components/Timeline/index.tsx","packages/components/timeline-bar/src/components/Timeline/hooks.ts","packages/components/timeline-bar/src/components/Timeline/ScrubberLine.tsx"],"sourcesContent":["/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nexport { default as PluginView } from './components/PluginView';\nexport { default as TimelineToolbar } from './components/TimelineToolbar';\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport React from \"react\";\nimport { Flex, View } from \"@adobe/react-spectrum\";\n\nconst PluginView = ({ children }) => (\n  <Flex direction=\"column\" position=\"absolute\" width=\"100%\" height=\"100%\" left={0} top={0}>\n    <View width=\"100%\" height={10} flexGrow={5} overflow=\"auto\">{children[0]}</View>\n    <View width=\"100%\" flexGrow={0} flexShrink={0}>{children[1]}</View>\n  </Flex>\n);\n\nexport default PluginView;\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport React from 'react';\nimport { Flex, View } from '@adobe/react-spectrum';\nimport FilterBar from './FilterBar';\nimport Timeline from './Timeline';\n\nconst TimelineToolbar = () => {\n  return (\n    <View borderTopWidth=\"thin\" borderTopColor=\"mid\">\n      <Flex direction=\"column\" gap=\"size-100\" marginTop=\"size-100\">\n        <FilterBar />\n        <Timeline />\n      </Flex>\n    </View>\n  );\n};\n\nexport default TimelineToolbar;\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport React from \"react\";\nimport { Flex, View } from \"@adobe/react-spectrum\";\nimport ClientPicker from \"./ClientPicker\";\nimport SelectedEventPicker from \"./SelectedEventPicker\";\nimport FilterButtons from \"./FilterButtons\";\n\nconst FilterBar = () => (\n  <Flex direction=\"row\" marginStart=\"size-200\" marginEnd={9}>\n    <View width={200} flexGrow={3}><ClientPicker /></View>\n    <SelectedEventPicker />\n    <Flex width={200} flexGrow={3} justifyContent=\"right\"><FilterButtons /></Flex>\n  </Flex>\n);\n\nexport default FilterBar;\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport React, { useMemo } from \"react\";\nimport { Flex, Item, Picker, Text } from \"@adobe/react-spectrum\";\nimport { filterToHash } from '@adobe/griffon-toolkit';\nimport * as R from 'ramda';\nimport { \n  navigateTo,\n  useClients, \n  useNavigationFilters,\n  useNavigationPath,\n  useSelectedClients, \n} from \"@assurance/plugin-bridge-provider\";\nimport { event as rootEvent } from '@adobe/griffon-toolkit-common';\nimport { clientInfoIos, clientInfoAndroid } from '@adobe/griffon-toolkit-aep-mobile';\nimport Devices from \"@spectrum-icons/workflow/Devices\";\nimport Phone from \"@spectrum-icons/workflow/DevicePhone\";\n\nconst getClientIcon = type => (type === 'all'\n  ? <Devices size=\"S\" /> : <Phone size=\"S\" />);\n\nconst getType = client => (clientInfoIos.isMatch(client)\n  ? 'ios' : clientInfoAndroid.isMatch(client) ? 'android' : null);\n\nconst getIosLabel = client =>\n  clientInfoIos.getDeviceName(client)\n  || clientInfoIos.getModel(client)\n  || clientInfoIos.getDeviceType(client);\nconst getAndroidLabel = client =>\n  clientInfoAndroid.getDeviceName(client)\n  || clientInfoAndroid.getModel(client)\n  || clientInfoAndroid.getDeviceType(client);\n\nconst getLabel = client =>\n  (clientInfoIos.isMatch(client) ? getIosLabel(client)\n    : clientInfoAndroid.isMatch(client) ? getAndroidLabel(client)\n      : null);\n\nconst prepareClientForUI = client => ({\n  clientId: rootEvent.getClientId(client),\n  label: getLabel(client),\n  type: getType(client),\n  timestamp: client.timestamp\n});\n\n\nconst ClientPicker = () => {\n  const clients = useClients();\n  const selectedClients = useSelectedClients();\n  const filters = useNavigationFilters();\n  const path = useNavigationPath();\n\n  const prepared = useMemo(() => clients.map(prepareClientForUI), [clients]);\n\n  const mapSelected = useMemo(() =>\n    selectedClients.map(\n      id => R.find(R.propEq(id, 'clientId'), prepared)\n    ),\n    [prepared, selectedClients]\n  )\n\n  if (clients.length === 0) {\n    return <span>Unknown client</span>\n  }\n\n  if (clients.length === 1) {\n    return (\n      <Flex gap=\"size-100\">\n        {getClientIcon(mapSelected[0].type)}\n        <Text>{mapSelected[0].label}</Text>\n      </Flex>\n    );\n  }\n\n  const options = [\n    {\n      clientId: 'all',\n      label: 'All Clients',\n      type: 'all'\n     },\n    ...prepared    \n  ];\n  \n  return (\n    <Picker \n      aria-label=\"Client\" \n      labelPosition=\"side\" \n      isQuiet\n      items={options}\n      selectedKey={selectedClients.length === clients.length ? 'all' : mapSelected[0].clientId}\n      onSelectionChange={(selected) => {\n        const output = {\n          ...filters,\n          clients: selected === 'all' ? undefined : rootEvent.makeClientFilter([selected])\n        };\n\n        const newPath = `${path}#${filterToHash(output)}`;\n        navigateTo(newPath);\n      }}\n    >\n      {(item) => \n        <Item key={item.clientId} textValue={item.label}>\n          {getClientIcon(item.type)}\n          <Text>{item.label}</Text>\n        </Item>\n      }\n    </Picker>\n  );\n};\n\nexport default ClientPicker;\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport React from \"react\";\nimport { Flex, Text } from \"@adobe/react-spectrum\";\nimport { useSelectedEvents } from \"@assurance/plugin-bridge-provider\";\nimport type { Event } from \"@assurance/common-utils\";\nimport { chooseEventLabel } from \"@assurance/common-utils\";\n\nconst makeLabel = (e: Event) => (e ? (e.timelineDetails || chooseEventLabel(e)) : '');\n\nconst SelectedEventPicker = () => {\n  const selected = useSelectedEvents();\n\n  if (!selected) { return null; }\n  \n  // TODO: Hightlights\n\n  return (\n    <Flex gap=\"size-200\">\n      {selected.length > 1 ? (\n        <Text>Multiple selected events</Text>\n      ) : (\n        <Text>{makeLabel(selected[0])}</Text>\n      )}\n    </Flex>\n  );\n};\n\nexport default SelectedEventPicker;\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport { MenuTrigger, ActionButton, Menu, Flex, Item, Text } from \"@adobe/react-spectrum\";\nimport { useSelectedEvents } from \"@assurance/plugin-bridge-provider\";\nimport React from \"react\";\n\nimport Filter from \"@spectrum-icons/workflow/Filter\";\nimport DataRefresh from \"@spectrum-icons/workflow/DataRefresh\";\nimport DataRemove from \"@spectrum-icons/workflow/DataRemove\";\n\nconst FilterButtons = () => {\n  const selected = useSelectedEvents();\n  \n  const moreActions = [\n    { label: 'Clear session', action: 'clearSession', icon: DataRemove },\n    { label: 'Restore session', action: 'restoreSession', icon: DataRefresh },\n  ];\n\n  if (selected?.length) {\n    moreActions.push({ label: 'Toggle hidden', action: 'hide' });\n    moreActions.push({ label: 'Toggle flag', action: 'flag' });\n  }\n\n  return (\n    <Flex gap=\"size-100\" alignItems=\"center\">\n      <MenuTrigger>\n        <ActionButton isQuiet aria-label=\"Filter menu\">\n          <Filter />\n        </ActionButton>\n        <Menu items={moreActions}>\n          {item => {\n            const renderedIcon = item.icon ? <item.icon /> : null;\n            return (\n              <Item key={item.action}>\n                {renderedIcon}\n                <Text>{item.label}</Text>\n              </Item>\n            );\n          }}\n        </Menu>\n      </MenuTrigger>\n    </Flex>\n  );\n  /*\n          <span className={styles.actionButtons}>\n          {hasSelected && annotateWidget}\n          <FilterEventsButton\n            onFilterChange={onFilterChange}\n            selectedFilters={selectedFilters}\n          />\n          <MoreAcionsButton\n            onClearSession={onClearSession}\n            onRestoreSession={onRestoreSession}\n          />\n          <CloseToolbarButton\n            closed={closed}\n            onToggleClose={onToggleClose}\n          />\n        </span>\n      */\n  \n  return <div>FilterButtons</div>;\n};\n\nexport default FilterButtons;\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport * as R from 'ramda';\nimport { View, Flex, ActionButton, Tooltip, TooltipTrigger } from \"@adobe/react-spectrum\";\nimport { selectEvents, useFilteredEvents, useSelectedEvents } from '@assurance/plugin-bridge-provider';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { classNames } from '@react-spectrum/utils';\nimport { useScrollPosition, useScrollToCentered, useWindowSize } from './hooks';\nimport ScrubberLine from './ScrubberLine';\nimport CloseCircle from \"@spectrum-icons/workflow/CloseCircle\";\n\nconst clamp = (number, min, max) => Math.min(Math.max(number, min), max);\n\nconst EVENT_SIZE = 10;\nconst POPOVER_WIDTH = 250;\nconst POPOVER_HALF = POPOVER_WIDTH * 0.5;\nconst ARROW_PAD = 2;\nconst EXTRA_LINES = 50;\nconst BAR_HEIGHT = 56;\n\nconst getSelectedIndex = (selected, events) =>\n  R.findIndex(\n    check => check && check.uuid === (selected || {}).uuid,\n    events || []\n  ) || 0;\n\nconst Timeline = () => {\n  const [width, setWidth] = useState(0);\n  const [barPosition, setBarPosition] = useState(0);\n\n  const outer = useRef(null);\n  const bar = useRef(null);\n\n  const events = useFilteredEvents();\n  const selected = useSelectedEvents();\n\n  useWindowSize();\n\n  useEffect(() => {\n    setWidth(outer.current?.clientWidth);\n  }, [outer.current]);\n  useScrollPosition(({ currPos }) => {\n    setBarPosition(currPos);\n  }, bar);\n  const eventSize = EVENT_SIZE;\n\n  const autoScrollPos = useMemo(() => {\n    let pos = 0;\n    if (selected && selected[0]) {\n      const firstIndex = getSelectedIndex(selected[0], events);\n      pos = firstIndex * eventSize;\n\n      // with two events or more, center between first and second event\n      if (selected.length > 1) {\n        const secondIndex = getSelectedIndex(selected[1], events);\n        const secondPos = secondIndex * eventSize;\n        pos = (\n          pos < secondPos ? secondPos - pos : pos - secondPos\n        ) / 2 + pos;\n      }\n      return pos;\n    }\n    return eventSize * events.length;\n  }, [events, selected]);\n\n  useScrollToCentered(autoScrollPos, bar, outer);\n\n  const isSelected = e => e && e.uuid && R.findIndex(\n    row => row && row.uuid === e.uuid, selected || []\n  ) >= 0;\n\n  const isVisible = (index) => {\n    const pos = index * eventSize;\n    const padding = EXTRA_LINES * eventSize;\n\n    return barPosition + width + padding > pos && barPosition - padding < pos;\n  };\n\n  const scrubberLines = useMemo(() => events.map(\n    (e, index) => isVisible(index) && (\n      <ScrubberLine\n        key={e.uuid}\n        index={index}\n        highlightColor={e.highlight}\n        event={e}\n        onPress={() => {\n          selectEvents([e.uuid]);\n        }}\n        isSelected={isSelected(e)}\n        eventSize={eventSize}\n      />\n    )\n  ), [events, barPosition, width, selected]);\n\n  return (\n    <Flex gap=\"size-50\" marginEnd={10}>\n      <div \n        ref={outer}\n        style={{\n          height: BAR_HEIGHT,\n          pointerEvents: 'none',\n          width: 30,\n          flexGrow: 5,\n          position: 'relative',\n        }}\n      >\n        <div \n          style={{\n            position: 'absolute',\n            width: '100%',\n            height: BAR_HEIGHT - 2,\n            overflowX: 'scroll',\n            overflowY: 'hidden',\n            pointerEvents: 'auto'\n          }} \n          ref={bar}\n        >\n          {events?.length && (\n            <View\n              width={events.length * eventSize}\n            >\n              {scrubberLines}\n            </View>\n          )}\n        </div>\n      </div>\n      {selected?.length ? (\n        <View marginTop={8}>\n          <ActionButton \n            isQuiet\n            onPress={() => {\n              selectEvents([]);\n            }}\n          >\n            <CloseCircle size='S' />\n          </ActionButton>\n        </View>\n      ) : null}       \n    </Flex>\n  )\n};\n\nexport default Timeline;\n","/*\n * ************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *   Copyright 2023 Adobe Systems Incorporated\n *   All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n * ************************************************************************\n */\n\nimport { useLayoutEffect, useState, useRef } from 'react';\n\nexport function useWindowSize() {\n  const [size, setSize] = useState([0, 0]);\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n  return size;\n}\n\nexport function useScrollPosition(effect, element, wait = 100) {\n  useRef(element);\n  let throttleTimeout: NodeJS.Timeout | null = null;\n\n  const callBack = () => {\n    effect({ currPos: element.current.scrollLeft });\n    throttleTimeout = null;\n  };\n\n  useLayoutEffect(() => {\n    const handleScroll = () => {\n      throttleTimeout = throttleTimeout || setTimeout(callBack, wait);\n    };\n\n    element.current.addEventListener('scroll', handleScroll);\n    return () => element.current.removeEventListener('scroll', handleScroll);\n  }, []);\n}\n\nexport function useScrollToCentered(position, element, outer) {\n  useRef(element);\n  useRef(outer);\n  useLayoutEffect(() => {\n    // if position isn't visible, scroll to it\n    const outerWidth = outer.current.clientWidth;\n    const currentScroll = element.current.scrollLeft;\n    if (position < element.current.scrollLeft || position > currentScroll + outerWidth) {\n      // eslint-disable-next-line no-param-reassign\n      element.current.scrollLeft = position - outerWidth / 2;\n    }\n  }, [position]);\n}\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2023 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n **************************************************************************/\n\nimport { Flex, View, TooltipTrigger, Tooltip, ActionButton } from '@adobe/react-spectrum';\nimport { chooseEventLabel, getTimestampText } from \"@assurance/common-utils\";\nimport React from 'react';\n\nconst BOX_HEIGHT = 16;\nconst SCRUBBER_LINE_HEIGHT = 24;\n\nconst makeLabel = (e: Event) => (e ? (e.timelineDetails || chooseEventLabel(e)) : '');\n\nconst ScrubberLine = ({\n  highlightColor,\n  onPress,\n  event,\n  isSelected,\n  eventSize,\n  index\n}) => (\n  <View\n    position=\"absolute\"\n    left={eventSize * index}\n    width={eventSize}\n    height={SCRUBBER_LINE_HEIGHT + 4}\n    top={0}\n  >\n    {!((index + 1) % 5) && (\n      <View \n        data-testid=\"scrubber-tick\"\n        backgroundColor=\"gray-400\"\n        position=\"absolute\"\n        height={SCRUBBER_LINE_HEIGHT}\n        top={12}\n        width={2}\n        left=\"calc(50% - 1px)\"\n      />\n    )}\n    {!((index + 1) % 25) && (\n      <View \n        position=\"absolute\"\n        top={0}\n        left=\"50%\"\n        UNSAFE_style={{ fontSize: '8px', transform: 'translateX(-50%)' }}\n      >\n        {index + 1}\n      </View>\n    )}\n    <View marginTop={16}>\n      <TooltipTrigger delay={50} closeDelay={0}>\n        <ActionButton\n          onPress={onPress}\n          isQuiet\n          width=\"100%\"\n          minWidth=\"100%\"\n          height={BOX_HEIGHT}\n          UNSAFE_style={{ border: 'none' }}\n        >\n          <View\n            backgroundColor={isSelected ? 'blue-400' : highlightColor || 'gray-300'}\n            position=\"absolute\"\n            height={BOX_HEIGHT}\n            width=\"100%\"\n          >\n            <View\n              height={BOX_HEIGHT}\n              width=\"100%\"\n              backgroundColor=\"gray-50\"\n              borderColor={'gray-400'}\n              borderWidth=\"thin\"\n              UNSAFE_style={{\n                opacity: .2,\n                fontWeight: 'bold',\n                fontSize: 11,\n                userSelect: 'none',\n              }}\n            >\n              <Flex\n                alignItems=\"center\"\n                justifyContent=\"center\"\n              >\n                {event.hidden ? 'X' : event.important ? '!' : ''}\n              </Flex>\n            </View>\n          </View>\n        </ActionButton>\n        <Tooltip>\n          <div>{makeLabel(event)}</div>\n          <div style={{ fontSize: 11 }}>{getTimestampText(event.timestamp)}</div>\n        </Tooltip>\n      </TooltipTrigger>\n    </View>\n  </View>\n);\n\nexport default ScrubberLine;\n"],"names":[],"version":3,"file":"index.js.map"}